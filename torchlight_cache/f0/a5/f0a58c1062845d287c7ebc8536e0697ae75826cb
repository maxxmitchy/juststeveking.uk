1652868918a:5:{s:7:"wrapped";s:7280:"<pre><code data-theme='material-theme-palenight' data-lang='go' class='torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 1</span><span style="color: #676E95;">// pkg/application/manager/ping-service.go</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 2</span><span style="color: #89DDFF;">package</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">manager</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 3</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 4</span><span style="color: #82AAFF;">import</span><span style="color: #89DDFF;">(</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 5</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">github.com/JustSteveKing/go-rest-api/pkg/domain/ping</span><span style="color: #89DDFF;">&quot;</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 6</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 7</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 8</span><span style="color: #676E95;">// BootPingService is responsible for setting up all the dependencies for ping</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 9</span><span style="color: #89DDFF;">func</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">BootPingService</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">app </span><span style="color: #89DDFF;">*</span><span style="color: #A6ACCD;">factories</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">Application</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">10</span><span style="color: #A6ACCD;">    </span><span style="color: #676E95;">// Create a new Ping Service</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">11</span><span style="color: #A6ACCD;">    service </span><span style="color: #89DDFF;">:=</span><span style="color: #A6ACCD;"> ping</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">NewService</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">app</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">12</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">13</span><span style="color: #A6ACCD;">    </span><span style="color: #676E95;">// Create a new http.Handler</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">14</span><span style="color: #A6ACCD;">    handler </span><span style="color: #89DDFF;">:=</span><span style="color: #A6ACCD;"> ping</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">NewHandler</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">app</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> service</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">15</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">16</span><span style="color: #A6ACCD;">    </span><span style="color: #676E95;">// Create a service level router</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">17</span><span style="color: #A6ACCD;">    router </span><span style="color: #89DDFF;">:=</span><span style="color: #A6ACCD;"> app</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">Router</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">Methods</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">http</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">MethodGet</span><span style="color: #89DDFF;">).</span><span style="color: #82AAFF;">PathPrefix</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">/ping</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">).</span><span style="color: #82AAFF;">Subrouter</span><span style="color: #89DDFF;">()</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">18</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">19</span><span style="color: #A6ACCD;">    </span><span style="color: #676E95;">// Register our service level router</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">20</span><span style="color: #A6ACCD;">    router</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">HandleFunc</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">/</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> handler</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">Handle</span><span style="color: #89DDFF;">).</span><span style="color: #82AAFF;">Name</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">ping:handle</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">21</span><span style="color: #89DDFF;">}</span></div></code></pre>";s:11:"highlighted";s:7108:"<!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 1</span><span style="color: #676E95;">// pkg/application/manager/ping-service.go</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 2</span><span style="color: #89DDFF;">package</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">manager</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 3</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 4</span><span style="color: #82AAFF;">import</span><span style="color: #89DDFF;">(</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 5</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">github.com/JustSteveKing/go-rest-api/pkg/domain/ping</span><span style="color: #89DDFF;">&quot;</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 6</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 7</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 8</span><span style="color: #676E95;">// BootPingService is responsible for setting up all the dependencies for ping</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 9</span><span style="color: #89DDFF;">func</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">BootPingService</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">app </span><span style="color: #89DDFF;">*</span><span style="color: #A6ACCD;">factories</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">Application</span><span style="color: #89DDFF;">)</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">10</span><span style="color: #A6ACCD;">    </span><span style="color: #676E95;">// Create a new Ping Service</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">11</span><span style="color: #A6ACCD;">    service </span><span style="color: #89DDFF;">:=</span><span style="color: #A6ACCD;"> ping</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">NewService</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">app</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">12</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">13</span><span style="color: #A6ACCD;">    </span><span style="color: #676E95;">// Create a new http.Handler</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">14</span><span style="color: #A6ACCD;">    handler </span><span style="color: #89DDFF;">:=</span><span style="color: #A6ACCD;"> ping</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">NewHandler</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">app</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> service</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">15</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">16</span><span style="color: #A6ACCD;">    </span><span style="color: #676E95;">// Create a service level router</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">17</span><span style="color: #A6ACCD;">    router </span><span style="color: #89DDFF;">:=</span><span style="color: #A6ACCD;"> app</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">Router</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">Methods</span><span style="color: #89DDFF;">(</span><span style="color: #A6ACCD;">http</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">MethodGet</span><span style="color: #89DDFF;">).</span><span style="color: #82AAFF;">PathPrefix</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">/ping</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">).</span><span style="color: #82AAFF;">Subrouter</span><span style="color: #89DDFF;">()</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">18</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">19</span><span style="color: #A6ACCD;">    </span><span style="color: #676E95;">// Register our service level router</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">20</span><span style="color: #A6ACCD;">    router</span><span style="color: #89DDFF;">.</span><span style="color: #82AAFF;">HandleFunc</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">/</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">,</span><span style="color: #A6ACCD;"> handler</span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;">Handle</span><span style="color: #89DDFF;">).</span><span style="color: #82AAFF;">Name</span><span style="color: #89DDFF;">(</span><span style="color: #89DDFF;">&quot;</span><span style="color: #C3E88D;">ping:handle</span><span style="color: #89DDFF;">&quot;</span><span style="color: #89DDFF;">)</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">21</span><span style="color: #89DDFF;">}</span></div>";s:6:"styles";s:67:"background-color: #292D3E; --theme-selection-background: #00000080;";s:7:"classes";s:10:"torchlight";s:5:"attrs";a:2:{s:10:"data-theme";s:24:"material-theme-palenight";s:9:"data-lang";s:2:"go";}}