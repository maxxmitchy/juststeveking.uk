<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Over the years I have built a lot of SDKs to work with 3rd party APIs. Each time I require the same components, so I decided to create a way to bootstrap this process while still allowing flexibility">

        <title>Sauber PHP</title>

        <script type="module">
            document.documentElement.classList.remove('no-js');
            document.documentElement.classList.add('js');
        </script>

        <link rel="preconnect" href="https://fonts.googleapis.com/">
                    <link rel="preconnect" href="https://cdn.usefathom.com/">
        
        <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,300i,400,400i,700,700i,800,800i,900,900i"
              rel="stylesheet">
        <link rel="stylesheet" href="/assets/build/css/main.css?id=4e84f0f9a27455207edf4dcaca718100">

        <meta property="og:title" content="Sauber PHP">
        <meta property="og:description" content="Over the years I have built a lot of SDKs to work with 3rd party APIs. Each time I require the same components, so I decided to create a way to bootstrap this process while still allowing flexibility">
        <meta property="og:image" content="https://www.juststeveking.uk//assets/images/open-graph-card.png">
        <meta property="og:image:alt" content="">
        <meta property="og:locale" content="en_GB">
        <meta property="og:type" content="article">
        <meta property="og:url" content="https://www.juststeveking.uk/sauber-php">

        <meta name="twitter:widgets:new-embed-design" content="on">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Sauber PHP">
        <meta name="twitter:description" content="Over the years I have built a lot of SDKs to work with 3rd party APIs. Each time I require the same components, so I decided to create a way to bootstrap this process while still allowing flexibility">
        <meta name="twitter:site" content="@JustSteveKing">
        <meta name="twitter:creator" content="@JustSteveKing">
        <meta name="twitter:image" content="https://www.juststeveking.uk//assets/images/open-graph-card.png">
        <meta name="twitter:image:alt" content="">

        <link rel="canonical" href="https://www.juststeveking.uk/sauber-php">
        <link rel="icon" href="/assets/favicon.ico">
        <link rel="icon" href="/assets/favicon.svg" type="image/svg+xml">
        <link rel="apple-touch-icon" href="/assets/favicon.png">
        <link rel="manifest" href="/assets/site.webmanifest">
        <meta name="theme-color" content="#ffffff">

        <link rel="alternate" type="application/rss+xml" title="" href="https://www.juststeveking.uk//rss.xml" />

        <script defer src="/assets/build/js/main.js?id=01476ded1297c0e9a5721a821e177871"></script>

        <script type="application/ld+json">
            {
                "@content": "https://schema.org/",
                "@type": "Person",
                "name": "Steve McDougall",
                "url": "https://www.juststeveking.uk/",
                "image": "https://www.juststeveking.uk/images/avatar.webp",
                "sameAs": [
                    "https://github.com/JustSteveKing",
                    "https://twitter.com/JustSteveKing",
                    "https://www.linkedin.com/in/steve-mcdougall/"
                ],
                "jobTitle": "Lead Software Engineer",
                "worksFor": {
                    "@type": "Organization",
                    "name": "Mumsnet",
                    "url": "https://www.mumsnet.com/",
                    "foundingDate": "2000-03-20",
                    "sameAs": [
                        "https://www.linkedin.com/company/mumsnet",
                        "https://www.instagram.com/mumsnet/",
                        "https://www.youtube.com/user/mumsnet",
                        "https://www.pinterest.co.uk/mumsnet",
                        "https://twitter.com/mumsnettowers",
                        "https://facebook.com/mumsnet"
                    ],
                    "description": "We're the UKâ€™s largest network for parents, with over 8 million unique visitors per month clocking up over 100 million page views. We regularly campaign on issues including support for families of children with special educational needs, improvements in postnatal and miscarriage care, and employment rights for working parents."
                }
            }

        </script>

                <!-- Fathom - beautiful, simple website analytics -->
            <script
                src="https://cdn.usefathom.com/script.js"
                data-site="SGJKEWOR"
                defer
            ></script>
            <!-- / Fathom -->
            </head>
    <body class="text-gray-800 dark:text-gray-50 bg-gray-50 dark:bg-gray-800 font-sans antialiased min-h-screen min-w-screen px-4 overflow-auto">

        <section class="max-w-7xl mx-auto text-base pb-12 px-4 md:px-0">
            <header class="py-6 md:py-12 flex flex-col md:flex-row items-start justify-between">
                <div class="textcenter md:text-left">
                    <a href="/"
                       class="text-gray-800 dark:text-gray-50 text-lg dark:hover:text-gray-300 hover:text-gray-600 dark:focus:text-gray-300 focus:text-gray-600 transition-colors duration-150 ease-in-out">
                        <h1>juststeveking.uk</h1>
                    </a>

                    <p class="text-gray-400 dark:text-gray-300">
                        Lead Software Engineer at <a
                            href="https://www.mumsnet.com"
                            target="_blank"
                            rel="noopener nofollow"
                            class="underline"
                            title="Check out where I work"
                        >
                            Mumsnet
                        </a>.
                    </p>
                </div>

                <nav class="space-x-3">
                                            <a
                                href="/uses"
                                title="Technology I use"
                                class="text-gray-400 hover:text-gray-800 focus:text-gray-800 dark:text-gray-300 dark:hover:text-gray-50 dark:focus:text-gray-50 hover:underline transition-colors duration-150 ease-in-out"
                        >
                            Uses
                        </a>
                                            <a
                                href="/blog"
                                title="Recent Articles"
                                class="text-gray-400 hover:text-gray-800 focus:text-gray-800 dark:text-gray-300 dark:hover:text-gray-50 dark:focus:text-gray-50 hover:underline transition-colors duration-150 ease-in-out"
                        >
                            Articles
                        </a>
                                            <a
                                href="/series"
                                title="Articles groups by Series"
                                class="text-gray-400 hover:text-gray-800 focus:text-gray-800 dark:text-gray-300 dark:hover:text-gray-50 dark:focus:text-gray-50 hover:underline transition-colors duration-150 ease-in-out"
                        >
                            Series
                        </a>
                                            <a
                                href="/talks"
                                title="Talks I have given in the community"
                                class="text-gray-400 hover:text-gray-800 focus:text-gray-800 dark:text-gray-300 dark:hover:text-gray-50 dark:focus:text-gray-50 hover:underline transition-colors duration-150 ease-in-out"
                        >
                            Talks
                        </a>
                                    </nav>
            </header>

            <main>
                    <section itemscope itemtype="https://schema.org/Article">
        <header>
            <div class="space-y-1 border-b border-gray-200 pb-10 text-left dark:border-gray-700">
                <dl class="flex space-x-6">
                    <div>
                        <dt class="sr-only">Published on</dt>
                        <dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400">
                            <time
                                itemProp="datePublished"
                                content="2022-05-30 11:59:40"
                                datetime="2022-05-30 11:59:40"
                            >
                                30th May 2022
                            </time>
                        </dd>
                    </div>
                    <div>
                        <dt class="sr-only">Reading time</dt>
                        <dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400">
                            <span>
                                5 minute read
                            </span>
                        </dd>
                    </div>
                </dl>
                <div>
                    <h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">
                        Sauber PHP
                    </h1>
                </div>
            </div>
        </header>

        <article
            itemprop="articleBody"
            class="divide-b divide-gray-400 py-6"
        >
            

            <div class="prose dark:prose-dark space-y-4 overflow-hidden border-b border-gray-200 dark:border-gray-700 py-6">
                <p>I have used a lot of different frameworks in my career, from Zend(Laminas) to Yii, Cake to Codeignitor, SlimPHP to Laravel and more. They all have their own way of doing things, and their own selling points and benefits. Some are strict on their PSR (PHP Standards Recommendation) implementation, while others are a little looser. I have also always wanted to dabble with creating my own micro-framework, one that I can use for small APIs that just need something fast thrown together.</p>

<p>I have always been a fan of SlimPHP, but in version 4 I felt a little disconnected. It turned from a micro-framework to what I felt was just a collection of connecting replaceable components. There is nothing wrong with this, but it made me miss the Slim 2 and 3 days, when the framework came with a little more and I didn't have to reach for additional dependencies. While I see the benefits of what the framework has done to create more iteroperability - it felt like it went from a micro-framework to something where it didn't want to make decisions for you. This made me look a little further into what I could create if I were to make a framework.</p>

<p>I have created a micro-framework, mostly for educational purposes, called Sauber PHP. If you know German, then you know Sauber means 'clean' and what I wanted it to be was a clean and simple micro-framework that did what I needed. It will spin up and work, and follow what I believe to be clean programming principles.</p>

<p>It is currently an idea, that has been implemented, but it isn't really something I would ship to production yet. It is more something for me to play with and inject some programming creativity into, and to see what I can do. So let me do a quick walk through.</p>

<h2>Routing</h2>

<p>There is a very simple routing element to Sauber, it uses <code>league/route</code> behind the scenes - which is a friendly abstraction around FastRoute. It has a few components; a <code>Router</code>, a <code>Request</code> class, and a <code>HttpKernel</code>.</p>

<p>The Router simply sets up the <code>league/route</code> router and builds the base for http traffic, such as creating a Response Factory and the Routing strategy.</p>

<p>The Request class created a new <code>ServerRequest</code> using <code>laminas/diactoros</code> and returns it, a helper class if anything.</p>

<p>The <code>HttpKernel</code> will accept a Request Handler, and then run this through another <code>laminas</code> package and run it for us. Clean and simple to use.</p>

<p>I didn't want to reinvent the wheel with this component, I wanted to use some reliable packages and an abstraction around them so that I could use them in a way I felt comfortable.</p>

<h2>Container</h2>

<p>Much like the router, the Container is an abstraction around another PHP League package - this time it is <code>league/container</code>. The only thing this package does it set some predefined rules of how we want our container to actually work. It works off of <code>injectors</code> which are invokable classes that return bindings. So for example, we have a <code>RepositoryInjector</code> it would look like the following:</p>

<pre><code data-theme="material-theme-palenight" data-lang="php" class='language-php torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 1</span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">RepositoryInjector</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 2</span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 3</span><span style="color: #A6ACCD;">    </span><span style="color: #676E95;">/**</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 4</span><span style="color: #676E95;">     * </span><span style="color: #F78C6C;">@return</span><span style="color: #676E95;"> </span><span style="color: #F78C6C;">array</span><span style="color: #676E95;">&lt;</span><span style="color: #FFCB6B;">class</span><span style="color: #676E95;">-</span><span style="color: #F78C6C;">string</span><span style="color: #676E95;">,</span><span style="color: #FFCB6B;">class</span><span style="color: #676E95;">-</span><span style="color: #F78C6C;">string</span><span style="color: #676E95;">&gt;</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 5</span><span style="color: #676E95;">     */</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 6</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">function</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">__invoke</span><span style="color: #89DDFF;">():</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">array</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 7</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 8</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">return</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 9</span><span style="color: #A6ACCD;">            </span><span style="color: #FFCB6B;">UserRepositoryContract</span><span style="color: #89DDFF;">::</span><span style="color: #F78C6C;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">UserRepository</span><span style="color: #89DDFF;">::</span><span style="color: #F78C6C;">class</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">10</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">];</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">11</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">12</span><span style="color: #89DDFF;">}</span></div></code></pre>

<p>So in our application we can create these injectors to define how we want to build up our container. Each module, domain, feature - whatever you want to define your logic in, will have its own injector which you are then able to add the the container as we boot up the application.</p>

<h2>Command Bus</h2>

<p>The Command Bus is a custom implementation of the idea, it contains nothing about storage and focuses only on mapping command and queries to their respective handlers, then getting these from the container and diaptching them. It is a simple class, that I find to be useful for how I want to use a command bus in small applications. You can use it like the following:</p>

<pre><code data-theme="material-theme-palenight" data-lang="php" class='language-php torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 1</span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">bus </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">CommandBus</span><span style="color: #89DDFF;">();</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 2</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 3</span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">bus</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">command</span><span style="color: #89DDFF;">(</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 4</span><span style="color: #A6ACCD;">    </span><span style="color: #FFCB6B;">command</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">CreateUser</span><span style="color: #89DDFF;">::</span><span style="color: #F78C6C;">class</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 5</span><span style="color: #A6ACCD;">    </span><span style="color: #FFCB6B;">handler</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">CreateUserHandler</span><span style="color: #89DDFF;">::</span><span style="color: #F78C6C;">class</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 6</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 7</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 8</span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">bus</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">dispatch</span><span style="color: #89DDFF;">(</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 9</span><span style="color: #A6ACCD;">    </span><span style="color: #FFCB6B;">event</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">CreateUser</span><span style="color: #89DDFF;">(</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">10</span><span style="color: #A6ACCD;">        </span><span style="color: #FFCB6B;">name</span><span style="color: #A6ACCD;">: </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">test user</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">11</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">),</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">12</span><span style="color: #89DDFF;">);</span></div></code></pre>

<p>The repo has a little more information on how this works, and if people are interested I might spend some time working on more extensive documentation for most of the components in the framework.</p>

<h2>Framework</h2>

<p>The Framework itself, is one class - but built in a way I build Go APIs. So we have an <code>Application</code> class that contains our Router, HttpKernel and Container - and allows us to access each one. It can be booted, which will build our application to a default and allow us to then map routes and finally run the application, or simply dispatch a request. It comes with an <code>ApplicationContract</code> so if you want to build up the framework differently by leaning on a DI container you are able to do so - or you can create your own implementation of the Application and it should work in a similar way.</p>

<p>As I have said a few times, this is more of an experiment than anything else, and it is a set of components/packages that I will refactor and chip away at to improve when I find inspiration. This isn't something I expect will replace SlimPHP or Laravel or anything else, it is simply something I built for fun.</p>

<p>An example application would look like the following:</p>

<pre><code data-theme="material-theme-palenight" data-lang="php" class='language-php torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 1</span><span style="color: #89DDFF;">require</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">__DIR__</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">.</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">/vendor/autoload.php</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 2</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 3</span><span style="color: #F78C6C;">use</span><span style="color: #FFCB6B;"> </span><span style="color: #A6ACCD;">Sauber</span><span style="color: #89DDFF;">\</span><span style="color: #A6ACCD;">Container</span><span style="color: #89DDFF;">\</span><span style="color: #A6ACCD;">Container</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 4</span><span style="color: #F78C6C;">use</span><span style="color: #FFCB6B;"> </span><span style="color: #A6ACCD;">Sauber</span><span style="color: #89DDFF;">\</span><span style="color: #A6ACCD;">Framework</span><span style="color: #89DDFF;">\</span><span style="color: #A6ACCD;">Application</span><span style="color: #89DDFF;">;</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 5</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 6</span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">app </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Application</span><span style="color: #89DDFF;">::</span><span style="color: #82AAFF;">boot</span><span style="color: #89DDFF;">(</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 7</span><span style="color: #A6ACCD;">    </span><span style="color: #FFCB6B;">container</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Container</span><span style="color: #89DDFF;">(),</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 8</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 9</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">10</span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">app</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">get</span><span style="color: #89DDFF;">(</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">11</span><span style="color: #A6ACCD;">    </span><span style="color: #FFCB6B;">path</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">/</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">12</span><span style="color: #A6ACCD;">    </span><span style="color: #FFCB6B;">handler</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">function</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">ServerRequestInterface</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">request</span><span style="color: #89DDFF;">):</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">array</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">13</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">return</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">14</span><span style="color: #A6ACCD;">            </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">message</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">Service Online</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">15</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">];</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">16</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">},</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">17</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">18</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">19</span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">app</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">run</span><span style="color: #89DDFF;">();</span></div></code></pre>

<p>As you can see it is simple and callables are the required approach, however this can also be an invokable class:</p>

<pre><code data-theme="material-theme-palenight" data-lang="php" class='language-php torchlight' style='background-color: #292D3E; --theme-selection-background: #00000080;'><!-- Syntax highlighted by torchlight.dev --><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 1</span><span style="color: #C792EA;">class</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">RootHandler</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 2</span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 3</span><span style="color: #A6ACCD;">    </span><span style="color: #676E95;">/**</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 4</span><span style="color: #676E95;">     * </span><span style="color: #F78C6C;">@param</span><span style="color: #676E95;"> </span><span style="color: #A6ACCD;">Psr</span><span style="color: #89DDFF;">\</span><span style="color: #A6ACCD;">Http</span><span style="color: #89DDFF;">\</span><span style="color: #A6ACCD;">Message</span><span style="color: #89DDFF;">\</span><span style="color: #FFCB6B;">ServerRequestInterface</span><span style="color: #676E95;"> $request</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 5</span><span style="color: #676E95;">     * </span><span style="color: #F78C6C;">@return</span><span style="color: #676E95;"> </span><span style="color: #F78C6C;">array</span><span style="color: #676E95;">&lt;</span><span style="color: #F78C6C;">string</span><span style="color: #676E95;">,</span><span style="color: #F78C6C;">string</span><span style="color: #676E95;">&gt;</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 6</span><span style="color: #676E95;">     */</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 7</span><span style="color: #A6ACCD;">    </span><span style="color: #C792EA;">public</span><span style="color: #A6ACCD;"> </span><span style="color: #C792EA;">function</span><span style="color: #A6ACCD;"> </span><span style="color: #82AAFF;">__invoke</span><span style="color: #89DDFF;">(</span><span style="color: #FFCB6B;">ServerRequestInterface</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">request</span><span style="color: #89DDFF;">):</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">array</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 8</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">{</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number"> 9</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">return</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">[</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">10</span><span style="color: #A6ACCD;">            </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">message</span><span style="color: #89DDFF;">&#39;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">=&gt;</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">Root Handler.</span><span style="color: #89DDFF;">&#39;</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">11</span><span style="color: #A6ACCD;">        </span><span style="color: #89DDFF;">];</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">12</span><span style="color: #A6ACCD;">    </span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">13</span><span style="color: #89DDFF;">}</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">14</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">15</span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">app </span><span style="color: #89DDFF;">=</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Application</span><span style="color: #89DDFF;">::</span><span style="color: #82AAFF;">boot</span><span style="color: #89DDFF;">(</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">16</span><span style="color: #A6ACCD;">    </span><span style="color: #FFCB6B;">container</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #F78C6C;">new</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">Container</span><span style="color: #89DDFF;">(),</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">17</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">18</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">19</span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">app</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">get</span><span style="color: #89DDFF;">(</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">20</span><span style="color: #A6ACCD;">    </span><span style="color: #FFCB6B;">path</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #89DDFF;">&#39;</span><span style="color: #C3E88D;">/</span><span style="color: #89DDFF;">&#39;</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">21</span><span style="color: #A6ACCD;">    </span><span style="color: #FFCB6B;">handler</span><span style="color: #89DDFF;">:</span><span style="color: #A6ACCD;"> </span><span style="color: #FFCB6B;">RootHandler</span><span style="color: #89DDFF;">::</span><span style="color: #F78C6C;">class</span><span style="color: #89DDFF;">,</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">22</span><span style="color: #89DDFF;">);</span></div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">23</span>&nbsp;</div><div class='line'><span style="color:#3A3F58; text-align: right; -webkit-user-select: none; user-select: none;" class="line-number">24</span><span style="color: #89DDFF;">$</span><span style="color: #A6ACCD;">app</span><span style="color: #89DDFF;">-&gt;</span><span style="color: #82AAFF;">run</span><span style="color: #89DDFF;">();</span></div></code></pre>

<p>It is aimed at being PSR compliant, clean and simple to use. There are sensible default for how I like to write code - and beyond that it is entirely up to you how you use it. There is a template repo that will allow you to <code>composer create-project</code> with - but there is no requirement to use it.</p>

<p>I am not expecting people to use this on a day to day basis, but if you fancy giving it a try you can <a href="https://github.com/sauber-php">find the repo here</a> - let me know on twitter your thoughts, or if you think of a way this could be improved!</p>
            </div>

            <div class="space-x-4 py-12 text-left dark:border-gray-700">
                                    <a
                        href="/blog/tags/php"
                        title="View articles in laravel"
                        itemscope=""
                        itemtype="https://schema.org/DefinedTerm"
                        itemprop="name"
                        class="text-md font-semibold text-transparent bg-clip-text bg-gradient-to-tr from-indigo-500 to-pink-600"
                    >
                        <span>#php</span>
                        <span class="text-gray-900 dark:text-gray-100">/</span>
                    </a>
                                    <a
                        href="/blog/tags/psr"
                        title="View articles in laravel"
                        itemscope=""
                        itemtype="https://schema.org/DefinedTerm"
                        itemprop="name"
                        class="text-md font-semibold text-transparent bg-clip-text bg-gradient-to-tr from-indigo-500 to-pink-600"
                    >
                        <span>#psr</span>
                        <span class="text-gray-900 dark:text-gray-100">/</span>
                    </a>
                            </div>
        </article>
    </section>
            </main>

            <footer class="py-6 md:py-12">
                <div class="md:flex md:items-center md:justify-between">
                    <div class="flex justify-start md:justify-center space-x-6 md:order-2">
                        <a
                                href="https://www.youtube.com/c/JustSteveKing"
                                title="Subscribe to my YouTube Channel"
                                onclick="window.fathom.trackGoal('CMIYFQF3', 0);"
                                class="text-gray-400 hover:text-gray-800 focus:text-gray-800 dark:text-gray-300 dark:hover:text-gray-50 dark:focus:text-gray-50 hover:underline transition-colors duration-150 ease-in-out"
                        >
                            <span class="sr-only">YouTube Channel</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"
                                 aria-hidden="true">
                                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                            </svg>
                        </a>

                        <a
                                href="https://www.linkedin.com/in/steve-mcdougall/"
                                title="Connect with me on LinkedIn"
                                onclick="window.fathom.trackGoal('C6E6URYJ', 0);"
                                class="text-gray-400 hover:text-gray-800 focus:text-gray-800 dark:text-gray-300 dark:hover:text-gray-50 dark:focus:text-gray-50 hover:underline transition-colors duration-150 ease-in-out"
                        >
                            <span class="sr-only">LinkedIn</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"
                                 aria-hidden="true">
                                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path>
                            </svg>
                        </a>

                        <a
                                href="https://github.com/JustSteveKing"
                                title="Follow me on GitHub"
                                onclick="window.fathom.trackGoal('Q0HFSPVT', 0);"
                                class="text-gray-400 hover:text-gray-800 focus:text-gray-800 dark:text-gray-300 dark:hover:text-gray-50 dark:focus:text-gray-50 hover:underline transition-colors duration-150 ease-in-out"
                        >
                            <span class="sr-only">GitHub</span>
                            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path>
                            </svg>
                        </a>

                        <a
                                href="https://twitter.com/JustSteveKing"
                                title="Follow me on twitter"
                                onclick="window.fathom.trackGoal('Q0HFSPVT', 0);"
                                class="text-gray-400 hover:text-gray-800 focus:text-gray-800 dark:text-gray-300 dark:hover:text-gray-50 dark:focus:text-gray-50 hover:underline transition-colors duration-150 ease-in-out"
                        >
                            <span class="sr-only">Twitter</span>
                            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M23.953 4.57a10 10 0 0 1-2.825.775 4.958 4.958 0 0 0 2.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 0 0-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 0 0-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 0 1-2.228-.616v.06a4.923 4.923 0 0 0 3.946 4.827 4.996 4.996 0 0 1-2.212.085 4.936 4.936 0 0 0 4.604 3.417 9.867 9.867 0 0 1-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 0 0 7.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0 0 24 4.59z"/></svg>
                        </a>

                        <a
                                href="https://discord.gg/jkbfSufNTq"
                                title="Join my Discord server"
                                onclick="window.fathom.trackGoal('CMIYFQF3', 0);"
                                class="text-gray-400 hover:text-gray-800 focus:text-gray-800 dark:text-gray-300 dark:hover:text-gray-50 dark:focus:text-gray-50 hover:underline transition-colors duration-150 ease-in-out"
                        >
                            <span class="sr-only">Discord Server</span>
                            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"></path>
                            </svg>
                        </a>

                        <a
                                href="https://t.me/JustSteveKing"
                                title="Talk to me on telegram"
                                onclick="window.fathom.trackGoal('CMIYFQF3', 0);"
                                class="text-gray-400 hover:text-gray-800 focus:text-gray-800 dark:text-gray-300 dark:hover:text-gray-50 dark:focus:text-gray-50 hover:underline transition-colors duration-150 ease-in-out"
                        >
                            <span class="sr-only">Telegram</span>
                            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M11.944 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0a12 12 0 00-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 01.171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"></path>
                            </svg>
                        </a>
                    </div>
                    <div class="mt-8 md:mt-0 md:order-1">
                        <p class="text-left md:text-center text-gray-400 dark:text-gray-300">
                            &copy; 2022 JustSteveKing. All rights reserved.
                        </p>
                    </div>
                </div>
            </footer>

        </section>
    </body>
</html>
